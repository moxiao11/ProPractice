# g++ 

### 是什么

g++ = 用来把 C++ 源代码（.cpp）编译成可执行程序的工具

### g++ 工作流程

```text
.cpp 源码
 ↓ 预处理
 ↓ 编译
 ↓ 汇编
 ↓ 链接
可执行文件
```

### 用法

1. 最基本的
```bash
g++ main.cpp
```
生成:

* Linux / macOS：a.out

* Windows（MinGW）：a.exe

2. 指定输出文件名

```bash
g++ main.cpp -o main
```

运行：

```bash
./main     # Linux / macOS
main.exe   # Windows
```

3. 编译多个 C++ 文件

```bash
g++ main.cpp utils.cpp math.cpp -o program
```

以下的比较复杂，计算机学生可以了解：

### g++ 常用参数表

| 参数 | 作用 |
|------|------|
| `-std=c++11` / `-std=c++14` / `-std=c++17` / `-std=c++20` | 指定使用的 C++ 标准(√) | 
| `-O0` | 不进行优化（默认，便于调试）(√) |
| `-O1` | 开启基础优化(√) |
| `-O2` | 开启常用优化（推荐）(√) |
| `-O3` | 激进优化（可能增大体积）(√) |
| `-g` | 生成调试信息（供 gdb 使用） |
| `-Wall` | 打开常见编译警告 |
| `-Wextra` | 打开更多编译警告 |
| `-Werror` | 将警告视为错误 |
| `-o <文件名>` | 指定输出的可执行文件名 (√)|
| `-c` | 只编译不链接，生成 `.o` 文件(√) |
| `-I<路径>` | 添加头文件搜索路径 |
| `-L<路径>` | 添加库文件搜索路径 (√)|
| `-l<库名>` | 链接指定库（如 `-lm`） |
| `-D<宏>` | 定义宏（如 `-DDEBUG`） |
| `-U<宏>` | 取消宏定义 |
| `-E` | 只进行预处理(√) |
| `-S` | 生成汇编代码 (√)|
| `-Winvalid-pch` | 检查预编译头问题 |
| `-fPIC` | 生成位置无关代码（共享库） |
| `-pthread` | 启用多线程支持 |
| `-static` | 静态链接（OJ 常见）(√) |
| `-pipe` | 使用管道加速编译 |
| `--version` | 查看 g++ 版本(√) |

---

其中有（√）的代表计算机系统基础课出现过的指令(可能有遗漏)

### 示例

```bash
g++ main.cpp utils.cpp \
    -std=c++17 -O2 -Wall -Wextra \
    -Iinclude -Llib -lm \
    -o main
